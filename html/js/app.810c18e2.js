(function(a){function t(t){for(var r,s,d=t[0],i=t[1],o=t[2],u=0,m=[];u<d.length;u++)s=d[u],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&m.push(c[s][0]),c[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(a[r]=i[r]);l&&l(t);while(m.length)m.shift()();return n.push.apply(n,o||[]),e()}function e(){for(var a,t=0;t<n.length;t++){for(var e=n[t],r=!0,d=1;d<e.length;d++){var i=e[d];0!==c[i]&&(r=!1)}r&&(n.splice(t--,1),a=s(s.s=e[0]))}return a}var r={},c={app:0},n=[];function s(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=a,s.c=r,s.d=function(a,t,e){s.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:e})},s.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,t){if(1&t&&(a=s(a)),8&t)return a;if(4&t&&"object"===typeof a&&a&&a.__esModule)return a;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var r in a)s.d(e,r,function(t){return a[t]}.bind(null,r));return e},s.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return s.d(t,"a",t),t},s.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},s.p="/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],i=d.push.bind(d);d.push=t,d=d.slice();for(var o=0;o<d.length;o++)t(d[o]);var l=i;n.push([0,"chunk-vendors"]),e()})({0:function(a,t,e){a.exports=e("56d7")},"56d7":function(a,t,e){"use strict";e.r(t);e("e260"),e("e6cf"),e("cca6"),e("a79d");var r=e("2b0e"),c=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"wrapper",attrs:{id:"app"}},[e("CardForm",{attrs:{"form-data":a.formData},on:{"input-card-number":a.updateCardNumber,"input-card-name":a.updateCardName,"input-card-month":a.updateCardMonth,"input-card-year":a.updateCardYear,"input-card-cvv":a.updateCardCvv}})],1)},n=[],s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card-form"},[e("div",{staticClass:"card-list"},[e("Card",{attrs:{fields:a.fields,labels:a.formData,isCardNumberMasked:a.isCardNumberMasked,randomBackgrounds:a.randomBackgrounds,backgroundImage:a.backgroundImage}})],1),e("div",{staticClass:"card-form__inner"},[e("div",{staticClass:"card-input"},[e("label",{staticClass:"card-input__label",attrs:{for:"cardNumber"}},[a._v("Card Number")]),e("input",{staticClass:"card-input__input",attrs:{type:"tel",id:a.fields.cardNumber,maxlength:a.cardNumberMaxLength,"data-card-field":"",autocomplete:"off"},domProps:{value:a.formData.cardNumber},on:{input:a.changeNumber,focus:a.focusCardNumber,blur:a.blurCardNumber}}),e("button",{staticClass:"card-input__eye",class:{"-active":!a.isCardNumberMasked},attrs:{title:"Show/Hide card number",tabindex:"-1",disabled:""===a.formData.cardNumber},on:{click:a.toggleMask}})]),e("div",{staticClass:"card-input"},[e("label",{staticClass:"card-input__label",attrs:{for:"cardName"}},[a._v("Card Name")]),e("input",{directives:[{name:"letter-only",rawName:"v-letter-only"}],staticClass:"card-input__input",attrs:{type:"text",id:a.fields.cardName,"data-card-field":"",autocomplete:"off"},domProps:{value:a.formData.cardName},on:{input:a.changeName}})]),e("div",{staticClass:"card-form__row"},[e("div",{staticClass:"card-form__col"},[e("div",{staticClass:"card-form__group"},[e("label",{staticClass:"card-input__label",attrs:{for:"cardMonth"}},[a._v("Expiration Date")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.formData.cardMonth,expression:"formData.cardMonth"}],staticClass:"card-input__input -select",attrs:{id:a.fields.cardMonth,"data-card-field":""},on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){var t="_value"in a?a._value:a.value;return t}));a.$set(a.formData,"cardMonth",t.target.multiple?e:e[0])},a.changeMonth]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[a._v("Month")]),a._l(12,(function(t){return e("option",{key:t,attrs:{disabled:t<a.minCardMonth},domProps:{value:t<10?"0"+t:t}},[a._v(a._s(a.generateMonthValue(t)))])}))],2),e("select",{directives:[{name:"model",rawName:"v-model",value:a.formData.cardYear,expression:"formData.cardYear"}],staticClass:"card-input__input -select",attrs:{id:a.fields.cardYear,"data-card-field":""},on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){var t="_value"in a?a._value:a.value;return t}));a.$set(a.formData,"cardYear",t.target.multiple?e:e[0])},a.changeYear]}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[a._v("Year")]),a._l(12,(function(t,r){return e("option",{key:t,domProps:{value:r+a.minCardYear}},[a._v(a._s(r+a.minCardYear))])}))],2)])]),e("div",{staticClass:"card-form__col -cvv"},[e("div",{staticClass:"card-input"},[e("label",{staticClass:"card-input__label",attrs:{for:"cardCvv"}},[a._v("CVV")]),e("input",{directives:[{name:"number-only",rawName:"v-number-only"}],staticClass:"card-input__input",attrs:{type:"tel",id:a.fields.cardCvv,maxlength:"4","data-card-field":"",autocomplete:"off"},domProps:{value:a.formData.cardCvv},on:{input:a.changeCvv}})])])]),e("button",{staticClass:"card-form__button",on:{click:a.invaildCard}},[a._v("Submit")])])])},d=[],i=(e("4160"),e("a15b"),e("0d03"),e("d3b7"),e("ac1f"),e("25f0"),e("5319"),e("1276"),e("498a"),e("159b"),function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card-item",class:{"-active":a.isCardFlipped}},[e("div",{staticClass:"card-item__side -front"},[e("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":a.focusElementStyle},style:a.focusElementStyle}),e("div",{staticClass:"card-item__cover"},[a.currentCardBackground?e("img",{staticClass:"card-item__bg",attrs:{src:a.currentCardBackground}}):a._e()]),e("div",{staticClass:"card-item__wrapper"},[e("div",{staticClass:"card-item__top"},[e("img",{staticClass:"card-item__chip",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png"}}),e("div",{staticClass:"card-item__type"},[e("transition",{attrs:{name:"slide-fade-up"}},[a.cardType?e("img",{key:a.cardType,staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+a.cardType+".png",alt:""}}):a._e()])],1)]),e("label",{ref:a.fields.cardNumber,staticClass:"card-item__number",attrs:{for:a.fields.cardNumber}},[a._l(a.currentPlaceholder,(function(t,r){return e("span",{key:r},[e("transition",{attrs:{name:"slide-fade-up"}},[a.getIsNumberMasked(r,t)?e("div",{staticClass:"card-item__numberItem"},[a._v("*")]):a.labels.cardNumber.length>r?e("div",{key:a.currentPlaceholder,staticClass:"card-item__numberItem",class:{"-active":""===t.trim()}},[a._v(a._s(a.labels.cardNumber[r]))]):e("div",{key:a.currentPlaceholder+1,staticClass:"card-item__numberItem",class:{"-active":""===t.trim()}},[a._v(a._s(t))])])],1)}))],2),e("div",{staticClass:"card-item__content"},[e("label",{ref:a.fields.cardName,staticClass:"card-item__info",attrs:{for:a.fields.cardName}},[e("div",{staticClass:"card-item__holder"},[a._v("Card Holder")]),e("transition",{attrs:{name:"slide-fade-up"}},[a.labels.cardName.length?e("div",{key:"1",staticClass:"card-item__name"},[e("transition-group",{attrs:{name:"slide-fade-right"}},a._l(a.labels.cardName.replace(/\s\s+/g," "),(function(t,r){return e("span",{key:r+1,staticClass:"card-item__nameItem"},[a._v(a._s(t))])})),0)],1):e("div",{key:"2",staticClass:"card-item__name"},[a._v("Full Name")])])],1),e("div",{ref:"cardDate",staticClass:"card-item__date"},[e("label",{staticClass:"card-item__dateTitle",attrs:{for:a.fields.cardMonth}},[a._v("Expires")]),e("label",{staticClass:"card-item__dateItem",attrs:{for:a.fields.cardMonth}},[e("transition",{attrs:{name:"slide-fade-up"}},[a.labels.cardMonth?e("span",{key:a.labels.cardMonth},[a._v(a._s(a.labels.cardMonth))]):e("span",{key:"2"},[a._v("MM")])])],1),a._v(" / "),e("label",{staticClass:"card-item__dateItem",attrs:{for:"cardYear"}},[e("transition",{attrs:{name:"slide-fade-up"}},[a.labels.cardYear?e("span",{key:a.labels.cardYear},[a._v(a._s(String(a.labels.cardYear).slice(2,4)))]):e("span",{key:"2"},[a._v("YY")])])],1)])])])]),e("div",{staticClass:"card-item__side -back"},[e("div",{staticClass:"card-item__cover"},[a.currentCardBackground?e("img",{staticClass:"card-item__bg",attrs:{src:a.currentCardBackground}}):a._e()]),e("div",{staticClass:"card-item__band"}),e("div",{staticClass:"card-item__cvv"},[e("div",{staticClass:"card-item__cvvTitle"},[a._v("CVV")]),e("div",{staticClass:"card-item__cvvBand"},a._l(a.labels.cardCvv,(function(t,r){return e("span",{key:r},[a._v("*")])})),0),e("div",{staticClass:"card-item__type"},[a.cardType?e("img",{staticClass:"card-item__typeImg",attrs:{src:"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/"+a.cardType+".png"}}):a._e()])])])])}),o=[],l=(e("99af"),e("4d63"),e("466d"),{name:"Card",props:{labels:Object,fields:Object,isCardNumberMasked:Boolean,randomBackgrounds:{type:Boolean,default:!0},backgroundImage:[String,Object]},data:function(){return{focusElementStyle:null,currentFocus:null,isFocused:!1,isCardFlipped:!1,amexCardPlaceholder:"#### ###### #####",dinersCardPlaceholder:"#### ###### ####",defaultCardPlaceholder:"#### #### #### ####",currentPlaceholder:""}},watch:{currentFocus:function(){this.currentFocus?this.changeFocus():this.focusElementStyle=null},cardType:function(){this.changePlaceholder()}},mounted:function(){var a=this;this.changePlaceholder();var t=this,e=document.querySelectorAll("[data-card-field]");e.forEach((function(e){e.addEventListener("focus",(function(){a.isFocused=!0,e.id===a.fields.cardYear||e.id===a.fields.cardMonth?a.currentFocus="cardDate":a.currentFocus=e.id,a.isCardFlipped=e.id===a.fields.cardCvv})),e.addEventListener("blur",(function(){a.isCardFlipped=!e.id===a.fields.cardCvv,setTimeout((function(){t.isFocused||(t.currentFocus=null)}),300),t.isFocused=!1}))}))},computed:{cardType:function(){var a=this.labels.cardNumber,t=new RegExp("^4");return null!=a.match(t)?"visa":(t=new RegExp("^(34|37)"),null!=a.match(t)?"amex":(t=new RegExp("^5[1-5]"),null!=a.match(t)?"mastercard":(t=new RegExp("^6011"),null!=a.match(t)?"discover":(t=new RegExp("^62"),null!=a.match(t)?"unionpay":(t=new RegExp("^9792"),null!=a.match(t)?"troy":(t=new RegExp("^3(?:0([0-5]|9)|[689]\\d?)\\d{0,11}"),null!=a.match(t)?"dinersclub":(t=new RegExp("^35(2[89]|[3-8])"),null!=a.match(t)?"jcb":"")))))))},currentCardBackground:function(){if(this.randomBackgrounds&&!this.backgroundImage){var a=Math.floor(25*Math.random()+1);return"https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/".concat(a,".jpeg")}return this.backgroundImage?this.backgroundImage:null}},methods:{changeFocus:function(){var a=this.$refs[this.currentFocus];this.focusElementStyle=a?{width:"".concat(a.offsetWidth,"px"),height:"".concat(a.offsetHeight,"px"),transform:"translateX(".concat(a.offsetLeft,"px) translateY(").concat(a.offsetTop,"px)")}:null},getIsNumberMasked:function(a,t){return a>4&&a<14&&this.labels.cardNumber.length>a&&""!==t.trim()&&this.isCardNumberMasked},changePlaceholder:function(){var a=this;"amex"===this.cardType?this.currentPlaceholder=this.amexCardPlaceholder:"dinersclub"===this.cardType?this.currentPlaceholder=this.dinersCardPlaceholder:this.currentPlaceholder=this.defaultCardPlaceholder,this.$nextTick((function(){a.changeFocus()}))}}}),u=l,m=e("2877"),f=Object(m["a"])(u,i,o,!1,null,null,null),p=f.exports,h={name:"CardForm",directives:{"number-only":{bind:function(a){function t(a){if(a.target.value=a.target.value.replace(/[^0-9]/g,""),a.charCode>=48&&a.charCode<=57)return!0;a.preventDefault()}a.addEventListener("keypress",t)}},"letter-only":{bind:function(a){function t(a){return a.charCode>=48&&a.charCode<=57&&a.preventDefault(),!0}a.addEventListener("keypress",t)}}},props:{formData:{type:Object,default:function(){return{cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:""}}},backgroundImage:[String,Object],randomBackgrounds:{type:Boolean,default:!0}},components:{Card:p},data:function(){return{fields:{cardNumber:"v-card-number",cardName:"v-card-name",cardMonth:"v-card-month",cardYear:"v-card-year",cardCvv:"v-card-cvv"},minCardYear:(new Date).getFullYear(),isCardNumberMasked:!0,mainCardNumber:this.cardNumber,cardNumberMaxLength:19}},computed:{minCardMonth:function(){return this.formData.cardYear===this.minCardYear?(new Date).getMonth()+1:1}},watch:{cardYear:function(){this.formData.cardMonth<this.minCardMonth&&(this.formData.cardMonth="")}},mounted:function(){this.maskCardNumber()},methods:{generateMonthValue:function(a){return a<10?"0".concat(a):a},changeName:function(a){this.formData.cardName=a.target.value,this.$emit("input-card-name",this.formData.cardName)},changeNumber:function(a){this.formData.cardNumber=a.target.value;var t=this.formData.cardNumber.replace(/\D/g,"");/^3[47]\d{0,13}$/.test(t)?(this.formData.cardNumber=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),this.cardNumberMaxLength=17):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(t)?(this.formData.cardNumber=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "),this.cardNumberMaxLength=16):/^\d{0,16}$/.test(t)&&(this.formData.cardNumber=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 "),this.cardNumberMaxLength=19),this.$emit("input-card-number",this.formData.cardNumber)},changeMonth:function(){this.$emit("input-card-month",this.formData.cardMonth)},changeYear:function(){this.$emit("input-card-year",this.formData.cardYear)},changeCvv:function(a){this.formData.cardCvv=a.target.value,this.$emit("input-card-cvv",this.formData.cardCvv)},invaildCard:function(){for(var a=this.formData.cardNumber,t=0,e=!0,r=a.length-1;r>=0;r--){var c=a.charAt(r);e?t+=c:(c*=2,c>9&&(c=c.toString().split("").join("+")),t+=c),e=!e}t%10!==0&&alert("invaild card number")},blurCardNumber:function(){this.isCardNumberMasked&&this.maskCardNumber()},maskCardNumber:function(){this.mainCardNumber=this.formData.cardNumber;var a=this.formData.cardNumber.split("");a.forEach((function(t,e){e>4&&e<14&&""!==t.trim()&&(a[e]="*")})),this.formData.cardNumber=a.join("")},unMaskCardNumber:function(){this.formData.cardNumber=this.mainCardNumber},focusCardNumber:function(){this.unMaskCardNumber()},toggleMask:function(){this.isCardNumberMasked=!this.isCardNumberMasked,this.isCardNumberMasked?this.maskCardNumber():this.unMaskCardNumber()}}},v=h,b=Object(m["a"])(v,s,d,!1,null,null,null),_=b.exports,C={name:"app",components:{CardForm:_},data:function(){return{formData:{cardName:"",cardNumber:"",cardMonth:"",cardYear:"",cardCvv:""}}},methods:{updateCardNumber:function(a){},updateCardName:function(a){},updateCardMonth:function(a){},updateCardYear:function(a){},updateCardCvv:function(a){}}},g=C,N=(e("5c0b"),Object(m["a"])(g,c,n,!1,null,null,null)),y=N.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(a){return a(y)}}).$mount("#app")},"5c0b":function(a,t,e){"use strict";var r=e("9c0c"),c=e.n(r);c.a},"9c0c":function(a,t,e){}});
//# sourceMappingURL=app.810c18e2.js.map